# åŸºäºå¼ºåŒ–å­¦ä¹ ä¸å¤šAgentåä½œçš„æ™ºèƒ½é…é¤ç³»ç»Ÿ

## é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªæ™ºèƒ½é…é¤ç³»ç»Ÿï¼Œé‡‡ç”¨ä»¥ä¸‹æ ¸å¿ƒæŠ€æœ¯ï¼š
- **å¼ºåŒ–å­¦ä¹ ç®—æ³•**ï¼šä½¿ç”¨ DQNï¼ˆæ·±åº¦Qç½‘ç»œï¼‰è¿›è¡Œé…é¤ä¼˜åŒ–
- **å¤šAgentåä½œ**ï¼šåŸºäº CrewAI æ¡†æ¶å®ç°æ™ºèƒ½è¥å…»å¸ˆå›¢é˜Ÿ
- **WebæœåŠ¡**ï¼šFastAPI åç«¯ (SQLite) + Vue3 å‰ç«¯ (Element Plus)
- **ç”¨æˆ·ç³»ç»Ÿ**ï¼šåŸºäº JWT çš„èº«ä»½è®¤è¯ä¸ä¸ªäººæ¡£æ¡ˆç®¡ç†
- **å¢å¼ºèœè°±**ï¼šåŸºäºæ•°æ®åº“çš„é«˜çº§ç­›é€‰ä¸æœç´¢

## ç¯å¢ƒé…ç½®

æœ¬é¡¹ç›®ä½¿ç”¨ `uv` è¿›è¡Œ Python ç¯å¢ƒå’Œä¾èµ–ç®¡ç†ï¼Œç¡®ä¿è·¨å¹³å°ä¸€è‡´æ€§ã€‚

### å‰ç½®è¦æ±‚

- å®‰è£… [uv](https://docs.astral.sh/uv/) åŒ…ç®¡ç†å™¨
- Windows 10/11 æˆ– Linux/macOS

### å¿«é€Ÿå¼€å§‹

#### 1. å…‹éš†é¡¹ç›®

```bash
git clone <your-repo-url>
cd intelligent_meal_planner
```

#### 2. ä½¿ç”¨ uv åŒæ­¥ç¯å¢ƒ

```bash
# uv ä¼šè‡ªåŠ¨ï¼š
# 1. å®‰è£…é¡¹ç›®æŒ‡å®šçš„ Python ç‰ˆæœ¬ï¼ˆ3.10.16ï¼‰
# 2. åˆ›å»ºç‹¬ç«‹çš„è™šæ‹Ÿç¯å¢ƒ .venv
# 3. å®‰è£…æ‰€æœ‰ä¾èµ–åŒ…
uv sync
```

#### 3. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ

**Windows:**
```cmd
.venv\Scripts\activate
```

**Linux/macOS:**
```bash
source .venv/bin/activate
```

#### 4. è¿è¡Œé¡¹ç›®

**æ–¹å¼ä¸€ï¼šç°ä»£ Web ç‰ˆ (Vue + FastAPI)**

è¿™æ˜¯æ¨èçš„å®Œæ•´ä½“éªŒæ–¹å¼ã€‚

1. **å¯åŠ¨åç«¯**
   ```bash
   # é¦–æ¬¡å¯åŠ¨ä¼šè‡ªåŠ¨åˆ›å»º SQLite æ•°æ®åº“å¹¶è¿ç§»èœè°±æ•°æ®
   uv run uvicorn intelligent_meal_planner.api.main:app --reload
   ```
   åç«¯ API åœ°å€: `http://127.0.0.1:8000`

2. **å¯åŠ¨å‰ç«¯**
   ```bash
   cd frontend
   npm install
   npm run dev
   ```
   è®¿é—®: `http://localhost:5173`

   > **æ³¨æ„**: é¦–æ¬¡æ³¨å†Œæ—¶è¯·å¡«å†™çœŸå®èº«ä½“æ•°æ®ä»¥è·å¾—å‡†ç¡®æ¨èã€‚

### 4. åŠŸèƒ½ä½¿ç”¨æŒ‡å—

#### ğŸ¥˜ èœè°±æ¨¡å— (Recipes)
- **æœç´¢**: é¡¶éƒ¨æœç´¢æ æ”¯æŒæŒ‰èœåå®æ—¶è¿‡æ»¤ã€‚
- **ç­›é€‰**: å·¦ä¾§ä¾§è¾¹æ æä¾›å¤šç»´ç­›é€‰ï¼š
  - **Meal Type**: å‹¾é€‰ Breakfast/Lunch/Dinnerã€‚
  - **Calories**: æ‹–åŠ¨æ»‘å—ç­›é€‰çƒ­é‡åŒºé—´ (0-1500 kcal)ã€‚
  - **Price**: æ‹–åŠ¨æ»‘å—ç­›é€‰ä»·æ ¼åŒºé—´ (Â¥0-100)ã€‚
- **è¯¦æƒ…**: ç‚¹å‡»ä»»æ„èœè°±å¡ç‰‡ï¼ŒæŸ¥çœ‹è¯¦ç»†é…æ–™è¡¨ã€çƒ¹é¥ªæ­¥éª¤å’Œè¥å…»æˆåˆ†è¡¨ã€‚

**æ–¹å¼äºŒï¼šæ¼”ç¤ºåŸå‹ (Streamlit)**

é€‚åˆå¿«é€ŸéªŒè¯ç®—æ³•å’ŒæŸ¥çœ‹æ•°æ®ã€‚

```bash
uv run streamlit run src/intelligent_meal_planner/app.py
```
   è®¿é—®: `http://localhost:8501`

## é¡¹ç›®ç»“æ„

```
intelligent_meal_planner/
â”œâ”€â”€ frontend/                 # Vue 3 å‰ç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ src/
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ src/
â”‚   â””â”€â”€ intelligent_meal_planner/
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ data/
â”‚       â”‚   â””â”€â”€ recipes.json          # èœå“æ•°æ®åº“
â”‚       â”œâ”€â”€ rl/
â”‚       â”‚   â”œâ”€â”€ environment.py        # å¼ºåŒ–å­¦ä¹ ç¯å¢ƒ
â”‚       â”‚   â””â”€â”€ dqn_model.py          # DQN æ¨¡å‹è®­ç»ƒ
â”‚       â”œâ”€â”€ agents/
â”‚       â”‚   â”œâ”€â”€ user_profiler.py      # ç”¨æˆ·éœ€æ±‚åˆ†æå¸ˆ
â”‚       â”‚   â””â”€â”€ rl_chef.py            # å¼ºåŒ–å­¦ä¹ é…é¤å¸ˆ
â”‚       â”œâ”€â”€ tools/
â”‚       â”‚   â”œâ”€â”€ rl_model_tool.py      # æ¨¡å‹è°ƒç”¨å·¥å…·
â”‚       â”‚   â””â”€â”€ recipe_db_tool.py     # æ•°æ®åº“æŸ¥è¯¢å·¥å…·
â”‚       â”œâ”€â”€ api.py                    # FastAPI åç«¯
â”‚       â””â”€â”€ app.py                    # Streamlit å‰ç«¯
â”œâ”€â”€ models/                           # è®­ç»ƒå¥½çš„æ¨¡å‹æ–‡ä»¶
â”œâ”€â”€ tests/                            # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ pyproject.toml                    # é¡¹ç›®é…ç½®
â”œâ”€â”€ uv.lock                           # ä¾èµ–é”å®šæ–‡ä»¶
â””â”€â”€ README.md
```

## ä¾èµ–ç®¡ç†

### æ·»åŠ æ–°ä¾èµ–

```bash
uv add <package-name>
```

### ç§»é™¤ä¾èµ–

```bash
uv remove <package-name>
```

### æ›´æ–°ä¾èµ–

```bash
uv sync --upgrade
```

## å¼€å‘æŒ‡å—

### ä»£ç æ ¼å¼åŒ–

```bash
uv run black src/
uv run ruff check src/
```

### è¿è¡Œæµ‹è¯•

```bash
uv run pytest
```

## æŠ€æœ¯æ ˆ

- **Python**: 3.10.16 (ç”± uv ç®¡ç†)
- **å¼ºåŒ–å­¦ä¹ **: Stable-Baselines3, Gymnasium
- **å¤šAgentæ¡†æ¶**: CrewAI
- **Webæ¡†æ¶**: FastAPI (åç«¯)
- **å‰ç«¯ç•Œé¢**: Vue 3 + Element Plus (ä¸»åº”ç”¨), Streamlit (åŸå‹æ¼”ç¤º)
- **æ·±åº¦å­¦ä¹ **: PyTorch

## æ³¨æ„äº‹é¡¹

1. **è™šæ‹Ÿç¯å¢ƒéš”ç¦»**ï¼šæœ¬é¡¹ç›®ä½¿ç”¨ uv åˆ›å»ºçš„ç‹¬ç«‹è™šæ‹Ÿç¯å¢ƒï¼Œä¸ä¾èµ– conda
2. **è·¨å¹³å°å…¼å®¹**ï¼š`uv.lock` æ–‡ä»¶ç¡®ä¿åœ¨ä¸åŒæœºå™¨ä¸Šç¯å¢ƒä¸€è‡´
3. **ä¸­æ–‡ç¼–ç **ï¼šWindows ç³»ç»Ÿä¸‹ç¡®ä¿ä½¿ç”¨ UTF-8 ç¼–ç ï¼Œé¿å…ä¹±ç 

## å­¦ä¹ èµ„æº

- [uv å®˜æ–¹æ–‡æ¡£](https://docs.astral.sh/uv/)
- [Stable-Baselines3 æ–‡æ¡£](https://stable-baselines3.readthedocs.io/)
- [CrewAI æ–‡æ¡£](https://docs.crewai.com/)
- [FastAPI æ•™ç¨‹](https://fastapi.tiangolo.com/)